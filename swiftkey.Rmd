---
title: "Swift Key Coursera NLP Project"
output: html_notebook
---

# Description 

## Swiftkey is a Natural Language processing project on Final Capstone project in the Coursera Data Science Specialization Course

###Tasks to accomplish

  - Tokenization - identifying appropriate tokens such as words, punctuation, and numbers. Writing a function that takes a file as input and returns a tokenized version of it.
  - Profanity filtering - removing profanity and other words you do not want to predict.

```{r Loading the Data, message=FALSE, warning=FALSE, eval=TRUE, echo=TRUE}
path1<-NULL
path1 <- "C:/Public/Data-Science[JHU-Coursera]/project_nlp"

for(i in list.files(path = path1, pattern = "\\.zip$")) {
  unzip(i, overwrite = TRUE)
}
```

## Getting the Filenames and also getting connections to read the Text files

```{r checking the files, message=FALSE, warning=FALSE, eval=TRUE, echo=TRUE}
foldernames <- c("DE", "US", "FI", "RU")
filenames_n<-character(0)
for (j in list.dirs(path = path1)) {
  if (length(unlist(strsplit(basename(j),"_")[[1]])) == 2) {
    for (k in list.files(path = j)) {
      if (grepl(".txt",k, perl = TRUE)) {
        filenames_n <- c(filenames_n, unlist(strsplit(k, "\\.txt"))[1]) 
      }
  }
  }
}
```

## Getting the lines

```{r checking the first few lines, message=FALSE, warning=FALSE, eval=TRUE, echo=TRUE}
library(stringi)

countern<<-0
storeval <- c()
lines<-NULL

for (j in list.dirs(path = path1)) {
  if (length(unlist(strsplit(basename(j),"_")[[1]])) == 2) {
    for (k in list.files(path = j)) {
      # Grep based on Categories and then read
      if (grepl(".txt", k, perl = TRUE)) {
        pathtemp <- paste(j,k, sep = "/")
        if (grepl("en_US.twitter", pathtemp, perl = TRUE)) {
          print(pathtemp)
          countern<<-countern+1
          conntemp <- file(pathtemp, open = "r")
          lines<-nchar(readLines(conntemp))
          storeval[countern] <- max(lines)
          #val1<-findcount(conntemp,"love")
          #val2<-findcount(conntemp,"hate")
          
          close(conntemp) 
        }
      }
  }
  }
}

```

```{r Find the length of the biggest line, message=FALSE, eval=TRUE, warning=FALSE}
library(stringi)


storeval <- c()
lines<-NULL

for (j in list.dirs(path = path1)) {
  if (length(unlist(strsplit(basename(j),"_")[[1]])) == 2) {
    for (k in list.files(path = j)) {
      # Grep based on Categories and then read
      if (grepl(".txt", k, perl = TRUE)) {
        pathtemp <- paste(j,k, sep = "/")
        if (grepl("en_US.twitter", pathtemp, perl = TRUE)) {
          print(pathtemp)
          conntemp1 <- file(pathtemp, open = "r")
          linesnew <- readLines(conntemp1)
          val1<-grepl(".love.", linesnew, perl = TRUE, ignore.case = FALSE)
          val2<-grepl(".hate.", linesnew, perl = TRUE, ignore.case = FALSE)
          close(conntemp1) 
        }
      }
  }
  }
}

sum(val1)/sum(val2)

#Tweet for "biostats" match
linesnew[grepl(".biostats.", linesnew, ignore.case = FALSE, perl = TRUE)]

#Tweets of the exact characters
teststring <- "A computer once beat me at chess, but it was no match for me at kickboxing"
linesnew[grepl(teststring, linesnew, perl = TRUE, ignore.case = FALSE)]
```


Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).
